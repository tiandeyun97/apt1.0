<!-- 任务详情模态框 -->
{% load static %}
<link rel="stylesheet" href="{% static 'task_management/css/task_detail_modal.css' %}">

<div class="modal fade" id="taskDetailModal" tabindex="-1" aria-labelledby="taskDetailModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content p-0 border-0">
            <div class="card border-0 h-100">
                <div class="card-header d-flex justify-content-between align-items-center p-3">
                    <h5 class="card-title mb-0">
                        <i class="fas fa-tasks"></i>
                        <span id="task-detail-title">任务详情</span>
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="card-body p-3">
                    <div class="row">
                        <!-- 左侧栏 -->
                        <div class="col-md-6 border-end">
                            <!-- 基本信息部分 -->
                            <div class="detail-section mb-4">
                                <h6 class="section-title mb-3"><i class="fas fa-info-circle"></i> 基本信息</h6>
                                <div class="row g-3">
                                    <div class="col-12">
                                        <div class="detail-item">
                                            <div class="detail-label">任务名称</div>
                                            <div class="detail-value fw-bold" id="task-detail-name">-</div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="detail-item">
                                            <div class="detail-label">广告命名</div>
                                            <div class="detail-value" id="task-detail-advert-name">-</div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="detail-item">
                                            <div class="detail-label">产品信息</div>
                                            <div class="detail-value" id="task-detail-product-info">-</div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="detail-item">
                                            <div class="detail-label">产品后台</div>
                                            <div class="detail-value" id="task-detail-backend">-</div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="detail-item">
                                            <div class="detail-label">时区</div>
                                            <div class="detail-value" id="task-detail-timezone-basic">-</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 状态信息部分 -->
                            <div class="detail-section mb-4">
                                <h6 class="section-title mb-3"><i class="fas fa-chart-line"></i> 状态信息</h6>
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <div class="detail-item">
                                            <div class="detail-label">任务状态</div>
                                            <div class="detail-value" id="task-detail-status">-</div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="detail-item">
                                            <div class="detail-label">创建时间</div>
                                            <div class="detail-value" id="task-detail-created-at">-</div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="detail-item">
                                            <div class="detail-label">开始日期</div>
                                            <div class="detail-value" id="task-detail-start-date">-</div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="detail-item">
                                            <div class="detail-label">结束日期</div>
                                            <div class="detail-value" id="task-detail-end-date">-</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 广告信息部分 -->
                            <div class="detail-section">
                                <h6 class="section-title mb-3"><i class="fas fa-ad"></i> 广告信息</h6>
                                <div class="row g-3">
                                    <div class="col-12">
                                        <div class="detail-item">
                                            <div class="detail-label">广告像素</div>
                                            <div class="detail-value">
                                                <div class="d-flex align-items-center">
                                                    <div class="code-block flex-grow-1" id="task-detail-pixel">-</div>
                                                    <button class="btn btn-sm btn-outline-primary ms-2 btn-copy-code" 
                                                            data-clipboard-target="#task-detail-pixel" 
                                                            title="复制代码">
                                                        <i class="fas fa-copy"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="detail-item">
                                            <div class="detail-label">投放链接</div>
                                            <div class="detail-value" id="task-detail-publish-url">
                                                <a href="#" id="task-detail-publish-url-link" target="_blank">
                                                    <i class="fas fa-external-link-alt"></i>
                                                    <span class="link-text">-</span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 右侧栏 -->
                        <div class="col-md-6">
                            <!-- 项目信息部分 -->
                            <div class="detail-section mb-4">
                                <h6 class="section-title mb-3"><i class="fas fa-project-diagram"></i> 项目信息</h6>
                                <div class="row g-3">
                                    <div class="col-12">
                                        <div class="detail-item">
                                            <div class="detail-label">所属项目</div>
                                            <div class="detail-value fw-bold" id="task-detail-project">-</div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="detail-item">
                                            <div class="detail-label">媒体渠道</div>
                                            <div class="detail-value" id="task-detail-media-channel">-</div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="detail-item">
                                            <div class="detail-label">任务类型</div>
                                            <div class="detail-value" id="task-detail-task-type">-</div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="detail-item">
                                            <div class="detail-label">KPI</div>
                                            <div class="detail-value" id="task-detail-kpi">-</div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="detail-item">
                                            <div class="detail-label">运营负责人</div>
                                            <div class="detail-value" id="task-detail-manager">-</div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="detail-item">
                                            <div class="detail-label">项目状态</div>
                                            <div class="detail-value" id="task-detail-status2">-</div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="detail-item">
                                            <div class="detail-label">产品后台</div>
                                            <div class="detail-value" id="task-detail-product-backend">-</div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="detail-item">
                                            <div class="detail-label">时区</div>
                                            <div class="detail-value" id="task-detail-timezone">-</div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="detail-item" id="task-detail-daily-report">
                                            <div class="detail-label">日报链接</div>
                                            <div class="detail-value">
                                                <a href="#" id="task-detail-daily-report-link" target="_blank">
                                                    <i class="fas fa-external-link-alt"></i>
                                                    <span class="link-text">-</span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 其他信息部分 -->
                            <div class="detail-section">
                                <h6 class="section-title mb-3"><i class="fas fa-clipboard-list"></i> 其他信息</h6>
                                <div class="row g-3">
                                    <div class="col-12">
                                        <div class="detail-item">
                                            <div class="detail-label">优化师</div>
                                            <div class="detail-value" id="task-detail-optimizer">-</div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="detail-item">
                                            <div class="detail-label">备注</div>
                                            <div class="detail-value" id="task-detail-notes">-</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-footer d-flex justify-content-end gap-2">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭</button>
                    <a href="#" id="task-detail-edit-btn" class="btn btn-primary">
                        <i class="fas fa-edit"></i>
                        编辑任务
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 引入ClipboardJS -->
<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script>
<!-- 引入任务详情模态框的JavaScript -->
<script src="{% static 'task_management/js/task_detail_modal.js' %}"></script> 